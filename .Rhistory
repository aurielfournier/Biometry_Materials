new_dat$year <- as.factor(new_dat$year)
mod_names <- names(density.models)
mavg_pred <- modavgPred(density.models, modnames=mod_names,newdata=new_dat, parm.type="lambda", type="response", uncond.se="revised")
?modavgPred
library(unmarked)
library(raildata)
data(gdistsamp_models)
list15  = fitList(density.models)
mm15 = modSel(list15)
mm15
pred_short <- bup(ranef(density.models$water2), type="mean")
abund <- cbind(vegDONE, pred_short)
pred_short
length(pred_short)
nrow(vegDONE)
?predict
pred_short <- predict(density.models$water2, newdat=vegDONE)
pred_short <- predict(density.models$water2, newdat=vegDONE, type="lambda")
pred_short
data(gdistamp_models)
data(vegDONE)
cov <- vegDONE
new_dat15 <- data.frame(scale_averagewater=seq(min(cov$scale_averagewater), max(cov$scale_averagewater), length.out=50), scale_int=mean(cov$scale_int), scale_short=mean(cov$scale_short), year=2015,averagewater=seq(min(cov$averagewater), max(cov$averagewater), length.out=50))
new_dat14 <- data.frame(scale_averagewater=seq(min(cov$scale_averagewater), max(cov$scale_averagewater), length.out=50), scale_int=mean(cov$scale_int), scale_short=mean(cov$scale_short), year=2014,averagewater=seq(min(cov$averagewater), max(cov$averagewater), length.out=50))
new_dat13 <- data.frame(scale_averagewater=seq(min(cov$scale_averagewater), max(cov$scale_averagewater), length.out=50), scale_int=mean(cov$scale_int), scale_short=mean(cov$scale_short), year=2013,averagewater=seq(min(cov$averagewater), max(cov$averagewater), length.out=50))
new_dat12 <- data.frame(scale_averagewater=seq(min(cov$scale_averagewater), max(cov$scale_averagewater), length.out=50), scale_int=mean(cov$scale_int), scale_short=mean(cov$scale_short), year=2012,averagewater=seq(min(cov$averagewater), max(cov$averagewater), length.out=50))
new_dat <- rbind(new_dat14, new_dat15, new_dat13, new_dat12)
new_dat$scale_averagewater2 <- new_dat$scale_averagewater^2
new_dat$year <- as.factor(new_dat$year)
pred <- predict(density.models$water2, newdat=new_dat, type="lambda")
water.pre <- cbind(new_dat, pred)
water.pre$averagewater<-water.pre$scale_averagewater*sd(cov$averagewater)+mean(cov$averagewater)
(w15 <- ggplot(data=water.pre, aes(x=averagewater, y=mod.avg.pred))+
geom_smooth(color="black")+
ylab("Sora density (birds/ha)")+
xlab("Average water depth (cm)")+
theme_krementz())
head(water.pre)
(w15 <- ggplot(data=water.pre, aes(x=averagewater, y=Predicted))+
geom_smooth(color="black")+
ylab("Sora density (birds/ha)")+
xlab("Average water depth (cm)")+
theme_krementz())
data(gdistamp_models)
data(vegDONE)
cov <- vegDONE
new_dat15 <- data.frame(scale_averagewater=seq(min(cov$scale_averagewater), max(cov$scale_averagewater), length.out=50), scale_int=mean(cov$scale_int), scale_short=mean(cov$scale_short), year=2015,averagewater=seq(min(cov$averagewater), max(cov$averagewater), length.out=50))
new_dat14 <- data.frame(scale_averagewater=seq(min(cov$scale_averagewater), max(cov$scale_averagewater), length.out=50), scale_int=mean(cov$scale_int), scale_short=mean(cov$scale_short), year=2014,averagewater=seq(min(cov$averagewater), max(cov$averagewater), length.out=50))
new_dat13 <- data.frame(scale_averagewater=seq(min(cov$scale_averagewater), max(cov$scale_averagewater), length.out=50), scale_int=mean(cov$scale_int), scale_short=mean(cov$scale_short), year=2013,averagewater=seq(min(cov$averagewater), max(cov$averagewater), length.out=50))
new_dat12 <- data.frame(scale_averagewater=seq(min(cov$scale_averagewater), max(cov$scale_averagewater), length.out=50), scale_int=mean(cov$scale_int), scale_short=mean(cov$scale_short), year=2012,averagewater=seq(min(cov$averagewater), max(cov$averagewater), length.out=50))
new_dat <- rbind(new_dat14, new_dat15, new_dat13, new_dat12)
new_dat$scale_averagewater2 <- new_dat$scale_averagewater^2
new_dat$year <- as.factor(new_dat$year)
pred <- predict(density.models$water2, newdat=new_dat, type="lambda")
water.pre <- cbind(new_dat, pred)
(w15 <- ggplot(data=water.pre, aes(x=averagewater, y=Predicted))+
geom_smooth(color="black")+
ylab("Sora density (birds/ha)")+
xlab("Average water depth (cm)")+
theme_krementz())
density.models$water2
library(ggplot2)
library(DMwR)
library(unmarked)
library(auriel)
library(AICcmodavg)
library(gridExtra)
library(grid)
library(raildata)
## model averages not commented out are significantly different than zero
data(gdistamp_models)
data(vegDONE)
cov <- vegDONE
new_dat <- data.frame(scale_averagewater=seq(min(cov$scale_averagewater), max(cov$scale_averagewater), length.out=50), scale_int=mean(cov$scale_int), scale_short=mean(cov$scale_short), year=2012)
library(ggplot2)
library(DMwR)
library(unmarked)
library(auriel)
library(AICcmodavg)
library(gridExtra)
library(grid)
library(raildata)
data(gdistamp_models)
data(gdistsamp_models)
data(vegDONE)
cov <- vegDONE
new_dat <- data.frame(scale_averagewater=seq(min(cov$scale_averagewater), max(cov$scale_averagewater), length.out=50), scale_int=mean(cov$scale_int), scale_short=mean(cov$scale_short), year=2012)
new_dat$scale_averagewater2 <- new_dat$scale_averagewater^2
pred <- predict(density.models$water2, newdat=new_dat, type="lambda")
water.pre <- cbind(new_dat, pred)
(w15 <- ggplot(data=water.pre, aes(x=averagewater, y=Predicted))+
geom_smooth(color="black")+
ylab("Sora density (birds/ha)")+
xlab("Average water depth (cm)")+
theme_krementz())
cov <- vegDONE
new_dat <- data.frame(scale_averagewater=seq(min(cov$scale_averagewater), max(cov$scale_averagewater), length.out=50), scale_int=mean(cov$scale_int), scale_short=mean(cov$scale_short), year=2012, averagewater=seq(min(cov$averagewater),max(cov$averagewater),length.out=50))
new_dat$scale_averagewater2 <- new_dat$scale_averagewater^2
pred <- predict(density.models$water2, newdat=new_dat, type="lambda")
water.pre <- cbind(new_dat, pred)
#water.pre$averagewater<-water.pre$scale_averagewater*sd(cov$averagewater)+mean(cov$averagewater)
(w15 <- ggplot(data=water.pre, aes(x=averagewater, y=Predicted))+
geom_smooth(color="black")+
ylab("Sora density (birds/ha)")+
xlab("Average water depth (cm)")+
theme_krementz())
summary(vegDONE$averagewater)
library(unmarked)
dist.breaks <- c(0,1,2,3,4,5)
birds <- read.csv("./data/all_birds.csv",header=T)
birds <- birds[birds$species=="sora"|birds$species=="s",]
birds <- birds[birds$distance<=5,]
birds <- birds[!is.na(birds$round),]
birds <- birds[!is.na(birds$distance),]
birds$jdate <- as.factor(birds$odate)
birds[birds$impound=="sanctuarysouth",]$impound <- "sanctuary"
birds[birds$impound=="sanctuarynorth",]$impound <- "sanctuary"
birds[birds$impound=="n mallard",]$impound <- "nmallard"
birds[birds$impound=="r4/5",]$impound <- "r45"
birds$iry <- paste0(birds$impound,"_",birds$round,"_",birds$year)
dist.breaks <- c(0,1,2,3,4,5)
data(allbirds)
birds <- allbirds
birds <- birds[birds$species=="sora"|birds$species=="s",]
birds <- birds[birds$distance<=5,]
birds <- birds[!is.na(birds$round),]
birds <- birds[!is.na(birds$distance),]
birds$jdate <- as.factor(birds$odate)
birds[birds$impound=="sanctuarysouth",]$impound <- "sanctuary"
birds[birds$impound=="sanctuarynorth",]$impound <- "sanctuary"
birds[birds$impound=="n mallard",]$impound <- "nmallard"
data(allbirds)
birds <- allbirds
birds <- birds[birds$species=="sora"|birds$species=="s",]
birds <- birds[birds$distance<=5,]
birds <- birds[!is.na(birds$round),]
birds <- birds[!is.na(birds$distance),]
birds$jdate <- as.factor(birds$odate)
birds[birds$impound=="sanctuarysouth",]$impound <- "sanctuary"
birds[birds$impound=="sanctuarynorth",]$impound <- "sanctuary"
unique(birds$impound)
dist.breaks <- c(0,1,2,3,4,5)
data(allbirds)
birds <- allbirds
birds <- birds[birds$species=="sora"|birds$species=="s",]
birds <- birds[birds$distance<=5,]
birds <- birds[!is.na(birds$round),]
birds <- birds[!is.na(birds$distance),]
birds$jdate <- as.factor(birds$odate)
birds$impound <- as.character(birds$impound)
birds[birds$impound=="sanctuarysouth",]$impound <- "sanctuary"
birds[birds$impound=="sanctuarynorth",]$impound <- "sanctuary"
birds[birds$impound=="n mallard",]$impound <- "nmallard"
birds[birds$impound=="r4/5",]$impound <- "r45"
birds$iry <- paste0(birds$impound,"_",birds$round,"_",birds$year)
gd <- as.data.frame(formatDistData(birds, "distance","iry",dist.breaks))
gd$iry <- row.names(gd)
data(allveg)
veg <- allveg
veg <- veg[veg$averagewater!=999,]
veg <- veg[!is.na(veg$averagewater),]
veg$impound <- as.character(veg$impound)
veg[veg$impound=="n mallard",]$impound <- "nmallard"
veg[veg$impound=="r4/5",]$impound <- "r45"
veg[veg$impound=="redhead slough",]$impound <- "redhead"
veg$iry <- paste0(veg$impound,"_",veg$round,"_",veg$year)
veg$iy <- paste0(veg$impound,"_",veg$year)
water = melt(veg[,c( "region","iry","iy", "averagewater")],id=c("iry","iy","region"), na.rm=T)
veg = melt(veg[,c("iy","int","short")], na.rm=TRUE, id=c("iy"))
castwater <- cast(data=water, iry + iy+ region ~ variable, median)
castveg <- cast(data=veg, iy ~ variable, median)
all_veg <- merge(castwater, castveg, by="iy", all=FALSE)
surv <- read.csv("./data/all_surveys.csv")
surv$impound <- as.character(surv$impound)
surv[surv$impound=="n mallard",]$impound <- "nmallard"
surv[surv$impound=="r4/5",]$impound <- "r45"
surv[surv$impound=="redhead slough",]$impound <- "redhead"
surv$iry <- paste0(surv$impound,"_",surv$round,"_",surv$year)
data(allsurveys)
surv <- allsurveys
surv$impound <- as.character(surv$impound)
str(surv$impound)
unique(surv$impound)
surv$impound <- as.character(surv$impound)
surv[surv$impound=="n mallard",]$impound <- "nmallard"
surv[surv$impound=="r4/5",]$impound <- "r45"
unique(surv$impound)
surv$iry <- paste0(surv$impound,"_",surv$round,"_",surv$year)
mjdate <- melt(surv[,c("jdate","iry")], id="iry")
mlength <- melt(surv[,c("iry","length")], id="iry")
clength <- cast(mlength, iry ~ variable, sum)
clength$length <- clength$length*1000
cjdate <- cast(mjdate, iry ~ variable, median)
head(all_veg)
summary(all_veg)
data(allveg)
veg <- allveg
veg <- veg[veg$averagewater<=100,]
summary(veg)
data(allveg)
veg <- allveg
veg <- veg[veg$averagewater<=100,]
veg <- veg[!is.na(veg$averagewater),]
veg$impound <- as.character(veg$impound)
veg[veg$impound=="n mallard",]$impound <- "nmallard"
veg[veg$impound=="r4/5",]$impound <- "r45"
veg[veg$impound=="redhead slough",]$impound <- "redhead"
veg$iry <- paste0(veg$impound,"_",veg$round,"_",veg$year)
veg$iy <- paste0(veg$impound,"_",veg$year)
water = melt(veg[,c( "region","iry","iy", "averagewater")],id=c("iry","iy","region"), na.rm=T)
veg = melt(veg[,c("iy","int","short")], na.rm=TRUE, id=c("iy"))
castwater <- cast(data=water, iry + iy+ region ~ variable, median)
castveg <- cast(data=veg, iy ~ variable, median)
all_veg <- merge(castwater, castveg, by="iy", all=FALSE)
data(allsurveys)
surv <- allsurveys
surv$impound <- as.character(surv$impound)
surv[surv$impound=="n mallard",]$impound <- "nmallard"
surv[surv$impound=="r4/5",]$impound <- "r45"
surv$iry <- paste0(surv$impound,"_",surv$round,"_",surv$year)
mjdate <- melt(surv[,c("jdate","iry")], id="iry")
mlength <- melt(surv[,c("iry","length")], id="iry")
clength <- cast(mlength, iry ~ variable, sum)
clength$length <- clength$length*1000
cjdate <- cast(mjdate, iry ~ variable, median)
all_veg_jdate <- merge(all_veg, cjdate, by="iry", all.x=TRUE)
all_veg_jdate_length <- merge(all_veg_jdate, clength, by="iry",all.x=TRUE)
all_veg_jdate_length$scale_short <- scale(all_veg_jdate_length$short)
all_veg_jdate_length$scale_int <- scale(all_veg_jdate_length$int)
all_veg_jdate_length$scale_averagewater <- scale(all_veg_jdate_length$averagewater)
all_veg_jdate_length_year <- separate(all_veg_jdate_length, "iy", into=c("impound","year"), by=-5)
veg_DONE <- all_veg_jdate_length_year[(all_veg_jdate_length_year$iry %in% gd$iry),]
summary(veg_DONE)
veg_DONE <- all_veg_jdate_length_year[(all_veg_jdate_length_year$iry %in% gd$iry),]
sora_DONE <- gd[(gd$iry %in% all_veg_jdate_length_year$iry),]
nrow(sora_DONE) == nrow(veg_DONE)
unique(sora_DONE$iry) == unique(veg_DONE$iry)
write.csv(sora_DONE, "./data/sora_DONE.csv", row.names=F)
write.csv(veg_DONE, "./data/veg_DONE.csv", row.names=F)
# updating the raildata package
library(devtools)
library(roxygen2)
late14 <- c("scmsu2","scmsu3","m11","ts6a","ash","ts2a","ts4a","ccmsu2","kt9","kt6","dc22","dc20","os23","pooli")
early14 <- c("rail","sanctuary","sgd","sgb","pool2","pool2w","m13","m10","ts8a","ccmsu12","kt5","kt2","dc14","dc18","os21","poole","poolc")
late15 <- c("scmsu2","scmsu3","m11","ts6a","ash","ts2a","ts4a","ccmsu2","kt9","kt6","dc22","dc20","os23","pooli")
early15 <- c("rail","sanctuary","sgd","sgb","pool2","pool2w","m13","m10","ts8a","ccmsu12","kt5","kt2","dc14","dc18","os21","poole","poolc")
impound_treatments <- data.frame(year = c(rep(2014, length(late14)),rep(2014, length(early14)), rep(2015, length(late15)),rep(2015, length(early15))),
treat = c(rep("late", length(late14)),rep("early", length(early14)), rep("late", length(late15)),rep("early", length(early15))),
impound = c(late14, early14, late15, early15))
save(impound_treatments, file="~/raildata/data/impound_treatments.rda")
load("./data/sarah_models.Rdata")
save(density.models, file="~/raildata/data/gdistsamp_models.rda")
vegDONE <- read.csv("~/data/veg_DONE.csv")
save(vegDONE, file="~/raildata/data/vegDONE.rda")
soraDONE <- read.csv("~/data/sora_DONE.csv")
save(soraDONE, file="~/raildata/data/soraDONE.rda")
waterfowl2014 <- read.csv("~/data/2014_waterfowl.csv")
save(waterfowl2014, file="~/raildata/data/waterfowl2014.rda")
waterfowl2015 <- read.csv("~/data/2015_waterfowl.csv")
save(waterfowl2015, file="~/raildata/data/waterfowl2015.rda")
allbirds <- read.csv("~/data/all_birds.csv")
save(allbirds, file="~/raildata/data/allbirds.rda")
allsurveys <- read.csv("~/data/all_surveys.csv")
save(allsurveys, file="~/raildata/data/allsurveys.rda")
allveg <- read.csv("~/data/all_veg.csv")
save(allveg, file="~/raildata/data/allveg.rda")
a <- read.csv("./data/sara_abundances.csv")
a <- a[,2:ncol(a)]
save(a, file="~/raildata/data/sora_abundances.rda")
# documentation
setwd("~/raildata")
document()
#install
setwd("..")
install("raildata")
# updating the raildata package
library(devtools)
library(roxygen2)
late14 <- c("scmsu2","scmsu3","m11","ts6a","ash","ts2a","ts4a","ccmsu2","kt9","kt6","dc22","dc20","os23","pooli")
early14 <- c("rail","sanctuary","sgd","sgb","pool2","pool2w","m13","m10","ts8a","ccmsu12","kt5","kt2","dc14","dc18","os21","poole","poolc")
late15 <- c("scmsu2","scmsu3","m11","ts6a","ash","ts2a","ts4a","ccmsu2","kt9","kt6","dc22","dc20","os23","pooli")
early15 <- c("rail","sanctuary","sgd","sgb","pool2","pool2w","m13","m10","ts8a","ccmsu12","kt5","kt2","dc14","dc18","os21","poole","poolc")
impound_treatments <- data.frame(year = c(rep(2014, length(late14)),rep(2014, length(early14)), rep(2015, length(late15)),rep(2015, length(early15))),
treat = c(rep("late", length(late14)),rep("early", length(early14)), rep("late", length(late15)),rep("early", length(early15))),
impound = c(late14, early14, late15, early15))
save(impound_treatments, file="~/raildata/data/impound_treatments.rda")
load("./data/sarah_models.Rdata")
save(density.models, file="~/raildata/data/gdistsamp_models.rda")
vegDONE <- read.csv("~/data/veg_DONE.csv")
save(vegDONE, file="~/raildata/data/vegDONE.rda")
soraDONE <- read.csv("~/data/sora_DONE.csv")
save(soraDONE, file="~/raildata/data/soraDONE.rda")
waterfowl2014 <- read.csv("~/data/2014_waterfowl.csv")
save(waterfowl2014, file="~/raildata/data/waterfowl2014.rda")
waterfowl2015 <- read.csv("~/data/2015_waterfowl.csv")
save(waterfowl2015, file="~/raildata/data/waterfowl2015.rda")
allbirds <- read.csv("~/data/all_birds.csv")
save(allbirds, file="~/raildata/data/allbirds.rda")
allsurveys <- read.csv("~/data/all_surveys.csv")
save(allsurveys, file="~/raildata/data/allsurveys.rda")
allveg <- read.csv("~/data/all_veg.csv")
save(allveg, file="~/raildata/data/allveg.rda")
a <- read.csv("./data/sara_abundances.csv")
a <- a[,2:ncol(a)]
save(a, file="~/raildata/data/sora_abundances.rda")
# documentation
setwd("~/raildata")
document()
#install
setwd("..")
install("raildata")
install("raildata")
install("raildata")
library(devtools)
library(roxygen2)
install("raildata")
library(devtools)
library(roxygen2)
late14 <- c("scmsu2","scmsu3","m11","ts6a","ash","ts2a","ts4a","ccmsu2","kt9","kt6","dc22","dc20","os23","pooli")
early14 <- c("rail","sanctuary","sgd","sgb","pool2","pool2w","m13","m10","ts8a","ccmsu12","kt5","kt2","dc14","dc18","os21","poole","poolc")
late15 <- c("scmsu2","scmsu3","m11","ts6a","ash","ts2a","ts4a","ccmsu2","kt9","kt6","dc22","dc20","os23","pooli")
early15 <- c("rail","sanctuary","sgd","sgb","pool2","pool2w","m13","m10","ts8a","ccmsu12","kt5","kt2","dc14","dc18","os21","poole","poolc")
impound_treatments <- data.frame(year = c(rep(2014, length(late14)),rep(2014, length(early14)), rep(2015, length(late15)),rep(2015, length(early15))),
treat = c(rep("late", length(late14)),rep("early", length(early14)), rep("late", length(late15)),rep("early", length(early15))),
impound = c(late14, early14, late15, early15))
save(impound_treatments, file="~/raildata/data/impound_treatments.rda")
load("./data/sarah_models.Rdata")
save(density.models, file="~/raildata/data/gdistsamp_models.rda")
vegDONE <- read.csv("~/data/veg_DONE.csv")
save(vegDONE, file="~/raildata/data/vegDONE.rda")
soraDONE <- read.csv("~/data/sora_DONE.csv")
save(soraDONE, file="~/raildata/data/soraDONE.rda")
waterfowl2014 <- read.csv("~/data/2014_waterfowl.csv")
save(waterfowl2014, file="~/raildata/data/waterfowl2014.rda")
waterfowl2015 <- read.csv("~/data/2015_waterfowl.csv")
save(waterfowl2015, file="~/raildata/data/waterfowl2015.rda")
allbirds <- read.csv("~/data/all_birds.csv")
save(allbirds, file="~/raildata/data/allbirds.rda")
allsurveys <- read.csv("~/data/all_surveys.csv")
save(allsurveys, file="~/raildata/data/allsurveys.rda")
allveg <- read.csv("~/data/all_veg.csv")
save(allveg, file="~/raildata/data/allveg.rda")
a <- read.csv("./data/sara_abundances.csv")
head(a)
a <- a[,2:ncol(a)]
save(a, file="~/raildata/data/sora_abundances.rda")
# documentation
setwd("~/raildata")
list.files()
document()
setwd("..")
install("raildata")
?install
list.files
list.files()
# updating the raildata package
library(devtools)
library(roxygen2)
late14 <- c("scmsu2","scmsu3","m11","ts6a","ash","ts2a","ts4a","ccmsu2","kt9","kt6","dc22","dc20","os23","pooli")
early14 <- c("rail","sanctuary","sgd","sgb","pool2","pool2w","m13","m10","ts8a","ccmsu12","kt5","kt2","dc14","dc18","os21","poole","poolc")
late15 <- c("scmsu2","scmsu3","m11","ts6a","ash","ts2a","ts4a","ccmsu2","kt9","kt6","dc22","dc20","os23","pooli")
early15 <- c("rail","sanctuary","sgd","sgb","pool2","pool2w","m13","m10","ts8a","ccmsu12","kt5","kt2","dc14","dc18","os21","poole","poolc")
impound_treatments <- data.frame(year = c(rep(2014, length(late14)),rep(2014, length(early14)), rep(2015, length(late15)),rep(2015, length(early15))),
treat = c(rep("late", length(late14)),rep("early", length(early14)), rep("late", length(late15)),rep("early", length(early15))),
impound = c(late14, early14, late15, early15))
save(impound_treatments, file="~/raildata/data/impound_treatments.rda")
load("./data/sarah_models.Rdata")
save(density.models, file="~/raildata/data/gdistsamp_models.rda")
vegDONE <- read.csv("~/data/veg_DONE.csv")
save(vegDONE, file="~/raildata/data/vegDONE.rda")
soraDONE <- read.csv("~/data/sora_DONE.csv")
save(soraDONE, file="~/raildata/data/soraDONE.rda")
waterfowl2014 <- read.csv("~/data/2014_waterfowl.csv")
save(waterfowl2014, file="~/raildata/data/waterfowl2014.rda")
waterfowl2015 <- read.csv("~/data/2015_waterfowl.csv")
save(waterfowl2015, file="~/raildata/data/waterfowl2015.rda")
allbirds <- read.csv("~/data/all_birds.csv")
save(allbirds, file="~/raildata/data/allbirds.rda")
allsurveys <- read.csv("~/data/all_surveys.csv")
save(allsurveys, file="~/raildata/data/allsurveys.rda")
allveg <- read.csv("~/data/all_veg.csv")
save(allveg, file="~/raildata/data/allveg.rda")
a <- read.csv("./data/sara_abundances.csv")
a <- a[,2:ncol(a)]
save(a, file="~/raildata/data/sora_abundances.rda")
# documentation
setwd("~/raildata")
document()
#install
setwd("..")
install("raildata")
library(devtools)
library(roxygen2)
2+2
library(ggplot2)
library(raildata)
library(devtools)
library(roxygen2)
2+2
library(dplyr)
library(devtools)
library(roxygen2)
setwd("~/raildata")
document()
#install
setwd("..")
install("raildata")
library(ggplot2)
library(DMwR)
library(unmarked)
library(auriel)
library(AICcmodavg)
library(gridExtra)
library(grid)
library(raildata)
## model averages not commented out are significantly different than zero
data(gdistsamp_models)
data(vegDONE)
cov <- vegDONE
new_dat <- data.frame(scale_averagewater=seq(min(cov$scale_averagewater), max(cov$scale_averagewater), length.out=50), scale_int=mean(cov$scale_int), scale_short=mean(cov$scale_short), year=2012, averagewater=seq(min(cov$averagewater),max(cov$averagewater),length.out=50))
new_dat$scale_averagewater2 <- new_dat$scale_averagewater^2
pred <- predict(density.models$water2, newdat=new_dat, type="lambda")
water.pre <- cbind(new_dat, pred)
#water.pre$averagewater<-water.pre$scale_averagewater*sd(cov$averagewater)+mean(cov$averagewater)
(w15 <- ggplot(data=water.pre, aes(x=averagewater, y=Predicted))+
geom_smooth(color="black")+
ylab("Sora density (birds/ha)")+
xlab("Average water depth (cm)")+
theme_krementz())
ggsave(w15, filename="~/manuscripts/Dissertation_Chapter_2_Habitat_Sora/figure_1_betas.png", height=9, width=9)
head(water.pre)
(w15 <- ggplot(data=water.pre)+
geom_ribbon(color="black",aes(x=averagewater, y=Predicted, ymin=lower, ymax=upper))+
ylab("Sora density (birds/ha)")+
xlab("Average water depth (cm)")+
theme_krementz())
(w15 <- ggplot(data=water.pre)+
geom_ribbon(aes(x=averagewater, y=Predicted, ymin=lower, ymax=upper))+
ylab("Sora density (birds/ha)")+
xlab("Average water depth (cm)")+
theme_krementz())
(w15 <- ggplot(data=water.pre)+
geom_ribbon(aes(x=averagewater, y=Predicted, ymin=lower, ymax=upper), fill="grey")+
ylab("Sora density (birds/ha)")+
xlab("Average water depth (cm)")+
theme_krementz())
(w15 <- ggplot(data=water.pre)+
geom_ribbon(aes(x=averagewater, y=Predicted, ymin=lower, ymax=upper), fill="grey", color="black")+
ylab("Sora density (birds/ha)")+
xlab("Average water depth (cm)")+
theme_krementz())
(w15 <- ggplot(data=water.pre)+
geom_line(aes(x=averagewater, y=Predicted))+
geom_ribbon(aes(x=averagewater, y=Predicted, ymin=lower, ymax=upper), fill="grey")+
ylab("Sora density (birds/ha)")+
xlab("Average water depth (cm)")+
theme_krementz())
(w15 <- ggplot(data=water.pre)+
geom_ribbon(aes(x=averagewater, y=Predicted, ymin=lower, ymax=upper), fill="grey")+
geom_line(aes(x=averagewater, y=Predicted))+
ylab("Sora density (birds/ha)")+
xlab("Average water depth (cm)")+
theme_krementz())
library(raildata)
data(gdistsamp_models)
library(raildata)
data(sora_abundances)
head(a)
summary(a)
library(devtools)
library(roxygen2)
setwd("~/raildata")
document()
#install
setwd("..")
install("raildata")
setwd("~/raildata")
document()
#install
setwd("..")
install("raildata")
setwd("~/raildata")
document()
load("C:/Users/matt/Documents/raildata/data/gdistsamp_models.rda")
document()
e raildata package
library(devtools)
library(roxygen2)
setwd("~/raildata")
document()
setwd("~/raildata")
document()
setwd("~/raildata")
document()
setwd("~/raildata")
document()
setwd("~/raildata")
document()
setwd("~/raildata")
document()
#install
setwd("..")
install("raildata")
trout <- read.csv("./20160204_biometry_lab_3_power_analysis/trout.csv")
setwd("~/Biometry_Materials")
trout <- read.csv("./20160204_biometry_lab_3_power_analysis/trout.csv")
str(trout)
summary(trout)
head(trout)
mean(trout$C_growth-trout$E_growth)
sd(c(trout$C_growth,trout$E_growth))
(pttest <- power.t.test(n=10, delta= mean(trout$C_growth-trout$E_growth), sd=sd(c(trout$C_growth,trout$E_growth)), sig.level = 0.05))
